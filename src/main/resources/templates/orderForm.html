<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Cupcake Order Form</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>

<div class="page">
    <header>
        <h1>Cupcake Order</h1>
    </header>

    <!-- Debug output -->
    <div th:if="${#lists.isEmpty(cupcakes)}">
        <p>No cupcakes found!</p>
    </div>
    <div th:unless="${#lists.isEmpty(cupcakes)}">
        <p>Cupcakes found! Count: <span th:text="${cupcakes.size()}"></span></p>
    </div>

    <form class="generic-form" action="/order" method="post"> <!-- Updated form action -->
        <label for="cupcake">Choose Cupcake:</label>
        <select id="cupcake" name="cupcake">
            <option value="" disabled selected>Vælg cupcake type</option>
            <option th:each="cupcake : ${cupcakes}" th:if="${cupcake.getCupcakepart() == 'Bottom'}" th:value="${cupcake.getDescription()}" th:text="${cupcake.getDescription()}"></option>
        </select>

        <br><br>
        <label for="topping">Choose Topping:</label>
        <select id="topping" name="topping">
            <option value="" disabled selected>Vælg topping</option>
            <option th:each="cupcake : ${cupcakes}" th:if="${cupcake.getCupcakepart() == 'Topping'}" th:value="${cupcake.getDescription()}" th:text="${cupcake.getDescription()}"></option>
        </select>
        <br><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" min="1" max="10">
        <br><br>
        <button class="btn btn-ok" type="submit">Order</button>
    </form>

    <a href="orderForm.html" th:href="@{/}">Back to Homepage</a>
</div>

</body>

</html>
